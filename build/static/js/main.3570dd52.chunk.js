(this["webpackJsonpkomp-konfigurator"]=this["webpackJsonpkomp-konfigurator"]||[]).push([[0],{13:function(t,e,n){t.exports={productModal:"Modal_productModal__3xeo_",productModalContent:"Modal_productModalContent__1Wdpf",active:"Modal_active__2ikJ-"}},16:function(t,e,n){t.exports={hide:"AccessoryItem_hide__26glv",visible:"AccessoryItem_visible__39Br9"}},17:function(t){t.exports=JSON.parse('{"a":"komp-konfigurator","b":"0.1.3"}')},26:function(t,e,n){"use strict";n(1);var c=n(0);e.a=function(){return Object(c.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})}},28:function(t,e,n){t.exports={bullet:"AccessoriesList_bullet__3UAtI"}},30:function(t,e,n){},56:function(t,e,n){"use strict";n.r(e);n(30);var c=n(1),r=n.n(c),a=n(27),s=n.n(a),i=n(29),o=n(4),u=n(7),l=n.n(u),d=n(6),j=n.n(d),p=n(0),b=function(t){var e=t.products,n=t.handleProductRemoveFromCard,c=t.handleProductReplaceToCard;return Object(p.jsx)("div",{className:j.a.list,children:e.map((function(t,e){return Object(p.jsxs)("div",{className:j.a.card,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:j.a.title,children:t.title}),Object(p.jsxs)("div",{className:j.a.price,children:["\u0426\u0435\u043d\u0430: ",t.price," \u0440\u0443\u0431."]})]}),Object(p.jsx)("div",{className:j.a.edit,onClick:function(){c(t)},children:Object(p.jsx)("img",{src:"/images/edit.png",alt:""})}),Object(p.jsx)("div",{className:j.a.trash,onClick:function(){n(t)},children:Object(p.jsx)("img",{src:"/images/trash.png",alt:""})})]},e)}))})},f=n(3),h=n.n(f),O=n(5),v=n(9),_=n(10),m=n(11),x=n.n(m),g=function(){function t(){Object(v.a)(this,t)}return Object(_.a)(t,null,[{key:"getAll",value:function(){var t=Object(O.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("data/categories/categories.json");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.error("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()}]),t}(),y=function(){function t(){Object(v.a)(this,t)}return Object(_.a)(t,null,[{key:"getGroup",value:function(){var t=Object(O.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("data/categories/accessories_".concat(e,".json"));case 3:return n=t.sent,t.abrupt("return",n.data.sort((function(t,e){return t.sort-e.sort})));case 7:t.prev=7,t.t0=t.catch(0),console.error("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0413\u0440\u0443\u043f\u043f \u0442\u043e\u0432\u0430\u0440\u043e\u0432",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}]),t}(),k=Object(c.createContext)(null),C=n(16),w=n.n(C),N=function(t){var e=t.accessory,n=Object(c.useContext)(k),r=n.shouldDisplayProducts,a=n.accessoriesDisabled.has(e.id)?w.a.hide:w.a.visible;return Object(p.jsx)("li",{className:a,onClick:function(){r(e.id)},children:e.title})},A=n(28),M=n.n(A),P=function(t){var e=t.category,n=Object(c.useState)([]),r=Object(o.a)(n,2),a=r[0],s=r[1];function i(){return(i=Object(O.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getGroup(e.id);case 2:(n=t.sent)&&s(n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),a.length?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{children:e.title}),Object(p.jsx)("ol",{className:M.a.bullet,children:a.map((function(t){return Object(p.jsx)(N,{accessory:t},t.id)}))})]}):Object(p.jsx)(p.Fragment,{})},S=function(t){var e=t.category;return Object(p.jsx)(P,{category:e})},L=function(){var t=Object(c.useState)([]),e=Object(o.a)(t,2),n=e[0],r=e[1];function a(){return(a=Object(O.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getAll();case 2:(e=t.sent)&&r(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){a.apply(this,arguments)}()}),[]),Object(p.jsx)("div",{children:n.map((function(t){return Object(p.jsx)(S,{category:t},t.id)}))})},J=n(26),F=n(13),I=n.n(F),R=function(t){var e=t.children,n=t.visible,c=t.setVisible,r=[I.a.productModal];return n&&r.push(I.a.active),Object(p.jsx)("div",{className:r.join(" "),onClick:function(){return c(!1)},children:Object(p.jsx)("div",{className:I.a.productModalContent,onClick:function(t){return t.stopPropagation()},children:e})})},B=n(17),D='App "'.concat(B.a,'" version : ').concat(B.b);var E=r.a.lazy((function(){return n.e(3).then(n.bind(null,57))}));console.log(D);var G=function(){var t=Object(c.useState)(!1),e=Object(o.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)([]),s=Object(o.a)(a,2),u=s[0],d=s[1],j=Object(c.useState)(0),f=Object(o.a)(j,2),h=f[0],O=f[1],v=Object(c.useState)([]),_=Object(o.a)(v,2),m=_[0],x=_[1],g=Object(c.useState)(0),y=Object(o.a)(g,2),C=y[0],w=y[1];return Object(c.useEffect)((function(){x(function(t){var e=new Map;return t.map((function(t){return e.set(t.accessory,!0)})),e}(u)),w(function(t){var e=[];return t.map((function(t){return e.push(t.price)})),e.reduce((function(t,e){return t+e}),0)}(u))}),[u]),Object(p.jsxs)(k.Provider,{value:{shouldDisplayProducts:function(t){O(t),r(!0)},accessoriesDisabled:m},children:[Object(p.jsxs)("main",{className:l.a.main,children:[Object(p.jsxs)("div",{className:l.a.list,children:[Object(p.jsx)("h1",{children:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440 \u041f\u041a"}),Object(p.jsx)(L,{}),0!==u.length&&Object(p.jsx)("button",{className:l.a.button,onClick:function(){d([])},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b ..."})]}),Object(p.jsxs)("div",{className:l.a.comp,children:[Object(p.jsx)(b,{products:u,handleProductRemoveFromCard:function(t){d(u.filter((function(e){return e.title!==t.title})))},handleProductReplaceToCard:function(t){d(u.filter((function(e){return e.title!==t.title}))),O(t.accessory),r(!0)}}),0!==C&&Object(p.jsxs)("h2",{className:l.a.price,children:["\u0426\u0435\u043d\u0430: ",Object(p.jsx)("span",{children:C})," \u0440\u0443\u0431."]})]})]}),Object(p.jsx)(R,{visible:n,setVisible:r,children:n&&Object(p.jsx)(c.Suspense,{fallback:Object(p.jsx)(J.a,{}),children:Object(p.jsx)(E,{accessoryId:h,handleProductAddToCard:function(t,e){t.accessory=e,d([].concat(Object(i.a)(u),[t])),r(!1)}})})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(G,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},6:function(t,e,n){t.exports={list:"CardList_list__3hJQ5",card:"CardList_card__1eJ8m",img:"CardList_img__1FdaX",title:"CardList_title__2nzHy",description:"CardList_description__1oG4_",price:"CardList_price__2nJFP",edit:"CardList_edit__2R4Qq",trash:"CardList_trash__3BJKx"}},7:function(t,e,n){t.exports={main:"App_main__25myP",list:"App_list__36ru9",comp:"App_comp__2UxlX",button:"App_button__2k423",price:"App_price__2i7Ks"}}},[[56,1,2]]]);
//# sourceMappingURL=main.3570dd52.chunk.js.map