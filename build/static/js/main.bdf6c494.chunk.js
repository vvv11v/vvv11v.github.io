(this["webpackJsonpkomp-konfigurator"]=this["webpackJsonpkomp-konfigurator"]||[]).push([[0],{13:function(t,e,n){t.exports={productModal:"Modal_productModal__HzbGo",productModalContent:"Modal_productModalContent__Xslh-",active:"Modal_active__1CIe5"}},16:function(t,e,n){t.exports={hide:"AccessoryItem_hide__19o0C",visible:"AccessoryItem_visible__1cwGG"}},17:function(t){t.exports=JSON.parse('{"a":"komp-konfigurator","b":"0.1.3"}')},27:function(t,e,n){"use strict";n(1);var c=n(0);e.a=function(){return Object(c.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})}},29:function(t,e,n){t.exports={bullet:"AccessoriesList_bullet__2R6_-"}},30:function(t,e,n){},5:function(t,e,n){t.exports={list:"CardList_list__1c-6D",card:"CardList_card__1KuoJ",img:"CardList_img__RfA7u",title:"CardList_title__D_Dfn",description:"CardList_description__3n7pL",price:"CardList_price__3SOQ0",edit:"CardList_edit__2PXcP",trash:"CardList_trash__1sVok",col:"CardList_col__3LYQT",input:"CardList_input__b0v-F",but:"CardList_but__nw825"}},56:function(t,e,n){"use strict";n.r(e);n(30);var c=n(1),r=n.n(c),a=n(28),s=n.n(a),i=n(18),o=n(4),u=n(7),l=n.n(u),d=n(5),j=n.n(d),p=n(0),b=function(t){var e=t.products,n=t.handleProductRemoveFromCard,c=t.handleProductReplaceToCard,r=t.countProduct;return Object(p.jsx)("div",{className:j.a.list,children:e.map((function(t,e){return Object(p.jsxs)("div",{className:j.a.card,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:j.a.title,children:t.title}),Object(p.jsxs)("div",{className:j.a.price,children:[Object(p.jsx)("div",{className:j.a.col,children:Object(p.jsx)("input",{className:j.a.input,type:"number",min:"1",defaultValue:"1",onChange:function(e){r(Number(e.target.value),t)}})}),Object(p.jsxs)("div",{children:["\u0426\u0435\u043d\u0430: ",t.price," ",t.newPrice&&t.newPrice!==t.price&&Object(p.jsxs)("span",{children:["/ ",t.newPrice]})," ","\u0440\u0443\u0431."]})]})]}),Object(p.jsxs)("div",{className:j.a.but,children:[Object(p.jsx)("div",{className:j.a.edit,onClick:function(){c(t)},children:Object(p.jsx)("img",{src:"./images/edit.png",alt:""})}),Object(p.jsx)("div",{className:j.a.trash,onClick:function(){n(t)},children:Object(p.jsx)("img",{src:"./images/trash.png",alt:""})})]})]},e)}))})},f=n(3),h=n.n(f),O=n(6),_=n(9),v=n(10),m=n(11),x=n.n(m),g=function(){function t(){Object(_.a)(this,t)}return Object(v.a)(t,null,[{key:"getAll",value:function(){var t=Object(O.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("data/categories/categories.json");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.error("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()}]),t}(),C=function(){function t(){Object(_.a)(this,t)}return Object(v.a)(t,null,[{key:"getGroup",value:function(){var t=Object(O.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("data/categories/accessories_".concat(e,".json"));case 3:return n=t.sent,t.abrupt("return",n.data.sort((function(t,e){return t.sort-e.sort})));case 7:t.prev=7,t.t0=t.catch(0),console.error("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0413\u0440\u0443\u043f\u043f \u0442\u043e\u0432\u0430\u0440\u043e\u0432",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}]),t}(),k=Object(c.createContext)(null),y=n(16),w=n.n(y),N=function(t){var e=t.accessory,n=Object(c.useContext)(k),r=n.shouldDisplayProducts,a=n.accessoriesDisabled.has(e.id)?w.a.hide:w.a.visible;return Object(p.jsx)("li",{className:a,onClick:function(){r(e.id)},children:e.title})},P=n(29),A=n.n(P),L=function(t){var e=t.category,n=Object(c.useState)([]),r=Object(o.a)(n,2),a=r[0],s=r[1];function i(){return(i=Object(O.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.getGroup(e.id);case 2:(n=t.sent)&&s(n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),a.length?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{children:e.title}),Object(p.jsx)("ol",{className:A.a.bullet,children:a.map((function(t){return Object(p.jsx)(N,{accessory:t},t.id)}))})]}):Object(p.jsx)(p.Fragment,{})},S=function(t){var e=t.category;return Object(p.jsx)(L,{category:e})},M=function(){var t=Object(c.useState)([]),e=Object(o.a)(t,2),n=e[0],r=e[1];function a(){return(a=Object(O.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getAll();case 2:(e=t.sent)&&r(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){a.apply(this,arguments)}()}),[]),Object(p.jsx)("div",{children:n.map((function(t){return Object(p.jsx)(S,{category:t},t.id)}))})},D=n(27),F=n(13),R=n.n(F),G=function(t){var e=t.children,n=t.visible,c=t.setVisible,r=[R.a.productModal];return n&&r.push(R.a.active),Object(p.jsx)("div",{className:r.join(" "),onClick:function(){return c(!1)},children:Object(p.jsx)("div",{className:R.a.productModalContent,onClick:function(t){return t.stopPropagation()},children:e})})},I=n(17),E='App "'.concat(I.a,'" version : ').concat(I.b);var J=r.a.lazy((function(){return n.e(3).then(n.bind(null,58))}));console.log(E);var T=function(){var t=Object(c.useState)(!1),e=Object(o.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)([]),s=Object(o.a)(a,2),u=s[0],d=s[1],j=Object(c.useState)(0),f=Object(o.a)(j,2),h=f[0],O=f[1],_=Object(c.useState)([]),v=Object(o.a)(_,2),m=v[0],x=v[1],g=Object(c.useState)(0),C=Object(o.a)(g,2),y=C[0],w=C[1],N=Object(c.useState)(1.05),P=Object(o.a)(N,2),A=P[0],L=P[1];function S(t,e){return t.title<e.title?-1:1}return Object(c.useEffect)((function(){x(function(t){var e=new Map;return t.map((function(t){return e.set(t.accessory,!0)})),e}(u)),w(function(t){var e=[];return t.map((function(t){return t.newPrice?e.push(t.newPrice):e.push(t.price)})),e.reduce((function(t,e){return t+e}),0)}(u))}),[u]),Object(p.jsxs)(k.Provider,{value:{shouldDisplayProducts:function(t){O(t),r(!0)},accessoriesDisabled:m},children:[Object(p.jsxs)("main",{className:l.a.main,children:[Object(p.jsxs)("div",{className:l.a.list,children:[Object(p.jsx)("h1",{children:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440 \u041f\u041a"}),Object(p.jsx)(M,{}),0!==u.length&&Object(p.jsx)("button",{className:l.a.button,onClick:function(){d([])},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b ..."})]}),Object(p.jsxs)("div",{className:l.a.comp,children:[Object(p.jsx)(b,{products:u,handleProductRemoveFromCard:function(t){d(u.filter((function(e){return e.title!==t.title})).sort(S))},handleProductReplaceToCard:function(t){d(u.filter((function(e){return e.title!==t.title})).sort(S)),O(t.accessory),r(!0)},countProduct:function(t,e){var n=t*e.price;e.newPrice=n;var c=u.filter((function(t){return t.title!==e.title}));d([].concat(Object(i.a)(c),[e]).sort(S))}}),0!==y&&Object(p.jsxs)("h2",{className:l.a.price,children:[Object(p.jsxs)("span",{children:["\u0426\u0435\u043d\u0430: ",Object(p.jsx)("span",{children:y*A})," \u0440\u0443\u0431."]}),Object(p.jsx)("span",{className:l.a.kof,children:Object(p.jsx)("input",{value:A,type:"number",onChange:function(t){L(Number(t.target.value))}})})]})]})]}),Object(p.jsx)(G,{visible:n,setVisible:r,children:n&&Object(p.jsx)(c.Suspense,{fallback:Object(p.jsx)(D.a,{}),children:Object(p.jsx)(J,{accessoryId:h,handleProductAddToCard:function(t,e){t.accessory=e,d([].concat(Object(i.a)(u),[t]).sort(S)),r(!1)}})})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},7:function(t,e,n){t.exports={main:"App_main__3tFAh",list:"App_list__qpZfw",comp:"App_comp__27pL3",button:"App_button__v-Aoc",price:"App_price__1OLPd",kof:"App_kof__jXP-H"}}},[[56,1,2]]]);
//# sourceMappingURL=main.bdf6c494.chunk.js.map