(this["webpackJsonpkomp-konfigurator"]=this["webpackJsonpkomp-konfigurator"]||[]).push([[0],{13:function(t,e,c){t.exports={productModal:"Modal_productModal__HzbGo",productModalContent:"Modal_productModalContent__Xslh-",active:"Modal_active__1CIe5"}},16:function(t,e,c){t.exports={hide:"AccessoryItem_hide__19o0C",visible:"AccessoryItem_visible__1cwGG"}},17:function(t){t.exports=JSON.parse('{"a":"komp-konfigurator","b":"0.1.3"}')},27:function(t,e,c){"use strict";c(1);var n=c(0);e.a=function(){return Object(n.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})}},29:function(t,e,c){t.exports={bullet:"AccessoriesList_bullet__2R6_-"}},30:function(t,e,c){},5:function(t,e,c){t.exports={list:"CardList_list__1c-6D",card:"CardList_card__1KuoJ",img:"CardList_img__RfA7u",title:"CardList_title__D_Dfn",description:"CardList_description__3n7pL",price:"CardList_price__3SOQ0",edit:"CardList_edit__2PXcP",trash:"CardList_trash__1sVok",col:"CardList_col__3LYQT",input:"CardList_input__b0v-F",but:"CardList_but__nw825"}},56:function(t,e,c){"use strict";c.r(e);c(30);var n=c(1),r=c.n(n),a=c(28),i=c.n(a),s=c(18),o=c(4),u=c(7),l=c.n(u),d=c(5),j=c.n(d),p=c(0),b=function(t){var e=t.products,c=t.handleProductRemoveFromCard,n=t.handleProductReplaceToCard,r=t.countProduct;return Object(p.jsx)("div",{className:j.a.list,children:e.map((function(t,e){return Object(p.jsxs)("div",{className:j.a.card,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:j.a.title,children:t.title}),Object(p.jsxs)("div",{className:j.a.price,children:[Object(p.jsx)("div",{className:j.a.col,children:Object(p.jsx)("input",{className:j.a.input,type:"number",min:"1",defaultValue:"1",onChange:function(e){r(Number(e.target.value),t)}})}),Object(p.jsxs)("div",{children:["\u0426\u0435\u043d\u0430: ",t.price," ",t.newPrice&&t.newPrice!==t.price&&Object(p.jsxs)("span",{children:["/ ",t.newPrice]})," ","\u0440\u0443\u0431."]})]})]}),Object(p.jsxs)("div",{className:j.a.but,children:[Object(p.jsx)("div",{className:j.a.edit,onClick:function(){n(t)},children:Object(p.jsx)("img",{src:"./images/edit.png",alt:""})}),Object(p.jsx)("div",{className:j.a.trash,onClick:function(){c(t)},children:Object(p.jsx)("img",{src:"./images/trash.png",alt:""})})]})]},e)}))})},f=c(3),h=c.n(f),O=c(6),_=c(9),v=c(10),m=c(11),x=c.n(m),g=function(){function t(){Object(_.a)(this,t)}return Object(v.a)(t,null,[{key:"getAll",value:function(){var t=Object(O.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("data/categories/categories.json");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.error("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()}]),t}(),C=function(){function t(){Object(_.a)(this,t)}return Object(v.a)(t,null,[{key:"getGroup",value:function(){var t=Object(O.a)(h.a.mark((function t(e){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("data/categories/accessories_".concat(e,".json"));case 3:return c=t.sent,t.abrupt("return",c.data.sort((function(t,e){return t.sort-e.sort})));case 7:t.prev=7,t.t0=t.catch(0),console.error("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0413\u0440\u0443\u043f\u043f \u0442\u043e\u0432\u0430\u0440\u043e\u0432",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}]),t}(),w=Object(n.createContext)(null),y=c(16),k=c.n(y),N=function(t){var e=t.accessory,c=Object(n.useContext)(w),r=c.shouldDisplayProducts,a=c.accessoriesDisabled.has(e.id)?k.a.hide:k.a.visible;return Object(p.jsx)("li",{className:a,onClick:function(){r(e.id)},children:e.title})},P=c(29),L=c.n(P),A=function(t){var e=t.category,c=Object(n.useState)([]),r=Object(o.a)(c,2),a=r[0],i=r[1];function s(){return(s=Object(O.a)(h.a.mark((function t(){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.getGroup(e.id);case 2:(c=t.sent)&&i(c);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){s.apply(this,arguments)}()}),[]),a.length?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{children:e.title}),Object(p.jsx)("ol",{className:L.a.bullet,children:a.map((function(t){return Object(p.jsx)(N,{accessory:t},t.id)}))})]}):Object(p.jsx)(p.Fragment,{})},M=function(t){var e=t.category;return Object(p.jsx)(A,{category:e})},S=function(){var t=Object(n.useState)([]),e=Object(o.a)(t,2),c=e[0],r=e[1];function a(){return(a=Object(O.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getAll();case 2:(e=t.sent)&&r(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){a.apply(this,arguments)}()}),[]),Object(p.jsx)("div",{children:c.map((function(t){return Object(p.jsx)(M,{category:t},t.id)}))})},D=c(27),F=c(13),R=c.n(F),G=function(t){var e=t.children,c=t.visible,n=t.setVisible,r=[R.a.productModal];return c&&r.push(R.a.active),Object(p.jsx)("div",{className:r.join(" "),onClick:function(){return n(!1)},children:Object(p.jsx)("div",{className:R.a.productModalContent,onClick:function(t){return t.stopPropagation()},children:e})})},I=c(17),E='App "'.concat(I.a,'" version : ').concat(I.b);var J=r.a.lazy((function(){return c.e(3).then(c.bind(null,58))}));console.log(E);var T=function(){var t=Object(n.useState)(!1),e=Object(o.a)(t,2),c=e[0],r=e[1],a=Object(n.useState)([]),i=Object(o.a)(a,2),u=i[0],d=i[1],j=Object(n.useState)(0),f=Object(o.a)(j,2),h=f[0],O=f[1],_=Object(n.useState)([]),v=Object(o.a)(_,2),m=v[0],x=v[1],g=Object(n.useState)(0),C=Object(o.a)(g,2),y=C[0],k=C[1];function N(t,e){return t.title<e.title?-1:1}return Object(n.useEffect)((function(){x(function(t){var e=new Map;return t.map((function(t){return e.set(t.accessory,!0)})),e}(u)),k(function(t){var e=[];return t.map((function(t){return t.newPrice?e.push(t.newPrice):e.push(t.price)})),e.reduce((function(t,e){return t+e}),0)}(u))}),[u]),Object(p.jsxs)(w.Provider,{value:{shouldDisplayProducts:function(t){O(t),r(!0)},accessoriesDisabled:m},children:[Object(p.jsxs)("main",{className:l.a.main,children:[Object(p.jsxs)("div",{className:l.a.list,children:[Object(p.jsx)("h1",{children:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440 \u041f\u041a"}),Object(p.jsx)(S,{}),0!==u.length&&Object(p.jsx)("button",{className:l.a.button,onClick:function(){d([])},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b ..."})]}),Object(p.jsxs)("div",{className:l.a.comp,children:[Object(p.jsx)(b,{products:u,handleProductRemoveFromCard:function(t){d(u.filter((function(e){return e.title!==t.title})).sort(N))},handleProductReplaceToCard:function(t){d(u.filter((function(e){return e.title!==t.title})).sort(N)),O(t.accessory),r(!0)},countProduct:function(t,e){var c=t*e.price;e.newPrice=c;var n=u.filter((function(t){return t.title!==e.title}));d([].concat(Object(s.a)(n),[e]).sort(N))}}),0!==y&&Object(p.jsxs)("h2",{className:l.a.price,children:["\u0426\u0435\u043d\u0430: ",Object(p.jsx)("span",{children:y})," \u0440\u0443\u0431."]})]})]}),Object(p.jsx)(G,{visible:c,setVisible:r,children:c&&Object(p.jsx)(n.Suspense,{fallback:Object(p.jsx)(D.a,{}),children:Object(p.jsx)(J,{accessoryId:h,handleProductAddToCard:function(t,e){t.accessory=e,d([].concat(Object(s.a)(u),[t]).sort(N)),r(!1)}})})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},7:function(t,e,c){t.exports={main:"App_main__3tFAh",list:"App_list__qpZfw",comp:"App_comp__27pL3",button:"App_button__v-Aoc",price:"App_price__1OLPd"}}},[[56,1,2]]]);
//# sourceMappingURL=main.d40a0303.chunk.js.map